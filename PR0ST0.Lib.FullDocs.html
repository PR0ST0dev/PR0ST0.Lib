
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR0ST0.Lib ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; padding: 20px; background: #fff; color: #000; }
        h1 { color: #1e88e5; border-bottom: 2px solid #eee; padding-bottom: 5px; }
        pre, code { background-color: #f4f4f4; padding: 5px; border-radius: 5px; }
        pre { overflow-x: auto; }
        a { color: #1e88e5; text-decoration: none; }
        a:hover { text-decoration: underline; }
        nav.toc { background: #f0f0f0; padding: 10px; border-radius: 6px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <h1>üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PR0ST0.Lib</h1>
    <p><strong>–ê–≤—Ç–æ—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ:</strong> –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö .md-—Ñ–∞–π–ª–æ–≤.</p>
    <h1>Api Reference</h1>
<h1 id="api-reference">API Reference</h1>

<ul>
<li><code>INavigationService</code></li>
<li><code>IMediator</code></li>
<li><code>IHttpRequestBuilder</code></li>
<li><code>IStorage</code></li>
<li><code>IValidatorFactory</code></li>
</ul>
<h1>Http</h1>
<h1 id="pr0st0http-faq-–∏-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è">üìò PR0ST0.Http ‚Äî FAQ –∏ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h1>

<p>–ü—Ä–æ—Å—Ç–∞—è, —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –∏ –º–æ—â–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ <code>HttpClient</code> —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- builder-DSL
- query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –º–æ–∫–æ–≤
- —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- retry
- timeout
- DI</p>

<hr />

<h2 id="–±—ã—Å—Ç—Ä—ã–∏-—Å—Ç–∞—Ä—Ç">üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HttpRequestBuilder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">HttpClient</span><span class="p">())</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithMethod</span><span class="p">(</span><span class="n">HttpMethod</span><span class="p">.</span><span class="n">Get</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithUrl</span><span class="p">(</span><span class="s">&quot;https://jsonplaceholder.typicode.com/posts/1&quot;</span><span class="p">);</span>

<span class="kt">var</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">SendAsync</span><span class="p">();</span>
<span class="kt">var</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">ReadAsStringAsync</span><span class="p">();</span>
</code></pre>
</div>

<hr />

<h2 id="—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é-–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è-newtonsoftjsonserializer">üì¶ –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <code>NewtonsoftJsonSerializer</code>)</h2>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HttpRequestBuilder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">HttpClient</span><span class="p">())</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithMethod</span><span class="p">(</span><span class="n">HttpMethod</span><span class="p">.</span><span class="n">Get</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithUrl</span><span class="p">(</span><span class="s">&quot;https://jsonplaceholder.typicode.com/posts/1&quot;</span><span class="p">);</span>

<span class="kt">var</span><span class="w"> </span><span class="n">post</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">SendAsync</span><span class="o">&lt;</span><span class="n">Post</span><span class="o">&gt;</span><span class="p">();</span><span class="w"> </span><span class="c1">// –ê–≤—Ç–æ–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è</span>
</code></pre>
</div>

<hr />

<h2 id="–æ—Ç–ø—Ä–∞–≤–∫–∞-—Ç–µ–ª–∞-post-—Å-json">üí¨ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–∞ (POST —Å JSON)</h2>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">post</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Post</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Body</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;World&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">UserId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">};</span>

<span class="kt">var</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HttpRequestBuilder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">HttpClient</span><span class="p">())</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithMethod</span><span class="p">(</span><span class="n">HttpMethod</span><span class="p">.</span><span class="n">Post</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithUrl</span><span class="p">(</span><span class="s">&quot;https://jsonplaceholder.typicode.com/posts&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithBody</span><span class="p">(</span><span class="n">post</span><span class="p">);</span>

<span class="kt">var</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">SendAsync</span><span class="p">();</span>
</code></pre>
</div>

<hr />

<h2 id="–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤">üìé –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤</h2>

<div class="codehilite">
<pre><span></span><code><span class="p">.</span><span class="n">WithHeader</span><span class="p">(</span><span class="s">&quot;Authorization&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Bearer xyz&quot;</span><span class="p">)</span>
<span class="p">.</span><span class="n">WithHeader</span><span class="p">(</span><span class="s">&quot;Custom-Header&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Value&quot;</span><span class="p">)</span>
</code></pre>
</div>

<hr />

<h2 id="–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-query-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤">‚ùì –î–æ–±–∞–≤–ª–µ–Ω–∏–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</h2>

<div class="codehilite">
<pre><span></span><code><span class="p">.</span><span class="n">WithQueryParameter</span><span class="p">(</span><span class="s">&quot;search&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">)</span>
<span class="p">.</span><span class="n">WithQueryParameter</span><span class="p">(</span><span class="s">&quot;limit&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</code></pre>
</div>

<hr />

<h2 id="timeout-–∏-retry">‚è± Timeout –∏ üîÅ Retry</h2>

<div class="codehilite">
<pre><span></span><code><span class="p">.</span><span class="n">WithTimeout</span><span class="p">(</span><span class="n">TimeSpan</span><span class="p">.</span><span class="n">FromSeconds</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="p">.</span><span class="n">WithRetry</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">TimeSpan</span><span class="p">.</span><span class="n">FromSeconds</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre>
</div>

<hr />

<h2 id="–º–æ–∫–∏-–∑–∞–º–µ–Ω–∞-–æ—Ç–≤–µ—Ç–∞-–±–µ–∑-–∑–∞–ø—Ä–æ—Å–∞">üß™ –ú–æ–∫–∏ (–∑–∞–º–µ–Ω–∞ –æ—Ç–≤–µ—Ç–∞ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞)</h2>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">FakeMockHandler</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IMockHttpHandler</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">TryMock</span><span class="p">(</span><span class="n">HttpRequestMessage</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">HttpResponseMessage</span><span class="w"> </span><span class="n">response</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">RequestUri</span><span class="p">.</span><span class="n">AbsoluteUri</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">))</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HttpResponseMessage</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">Content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringContent</span><span class="p">(</span><span class="s">&quot;{\&quot;id\&quot;: 1, \&quot;title\&quot;: \&quot;mocked\&quot;}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;application/json&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="p">};</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h2 id="–∏–Ω—Ç–µ—Ä—Ñ–µ–∏—Å—ã-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è">üìã –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è</h2>

<p>| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å           | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                           |
|---------------------|--------------------------------------|
| <code>IHttpLogger</code>       | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤       |
| <code>IHttpSerializer</code>   | –ö–∞—Å—Ç–æ–º–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, XML) |
| <code>IMockHttpHandler</code>  | –ü–æ–¥–º–µ–Ω–∞ –æ—Ç–≤–µ—Ç–æ–≤ –±–µ–∑ —Å–µ—Ç–∏             |</p>

<hr />

<h2 id="—á–∞—Å—Ç–æ-–∑–∞–¥–∞–≤–∞–µ–º—ã–µ-–≤–æ–ø—Ä–æ—Å—ã">‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>

<p><strong>Q: –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞?</strong><br />
A: –ü—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ <code>HttpRequestBuilder</code> –≤—Ä—É—á–Ω—É—é —Å <code>new HttpClient()</code> –∏ <code>new NewtonsoftJsonSerializer()</code>.</p>

<p><strong>Q: –ö–∞–∫ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é?</strong><br />
A: –ü–µ—Ä–µ–¥–∞–π—Ç–µ —Å–≤–æ—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é <code>IHttpSerializer</code> –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.</p>

<p><strong>Q: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ <code>FormUrlEncodedContent</code>?</strong><br />
A: –ü–æ–∫–∞ –Ω–µ—Ç ‚Äî –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ <code>.WithContent(HttpContent)</code> –≤—Ä—É—á–Ω—É—é.</p>

<hr />

<h2 id="–ø—Ä–∏–º–µ—Ä-–ø–æ–ª–Ω–æ–∏-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏">üì¶ –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</h2>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HttpRequestBuilder</span><span class="p">(</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="nf">HttpClient</span><span class="p">(),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="nf">ConsoleHttpLogger</span><span class="p">(),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="nf">NewtonsoftJsonSerializer</span><span class="p">(),</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="nf">FakeMockHandler</span><span class="p">()</span>
<span class="p">);</span>

<span class="kt">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">builder</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithMethod</span><span class="p">(</span><span class="n">HttpMethod</span><span class="p">.</span><span class="n">Get</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">WithUrl</span><span class="p">(</span><span class="s">&quot;https://jsonplaceholder.typicode.com/posts/1&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">SendAsync</span><span class="o">&lt;</span><span class="n">Post</span><span class="o">&gt;</span><span class="p">();</span>
</code></pre>
</div>

<hr />

<h2 id="—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞-–∏–º–µ–Ω">üõ† –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω</h2>

<div class="codehilite">
<pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="nn">PR0ST0.Http</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">PR0ST0.Http.Builders</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">PR0ST0.Http.Logging</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">PR0ST0.Http.Mocks</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">PR0ST0.Http.Serialization</span><span class="p">;</span>
</code></pre>
</div>

<hr />

<h2 id="—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞">üßæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>

<pre><code>PR0ST0.Http/
‚îÇ
‚îú‚îÄ‚îÄ Builders/HttpRequestBuilder.cs
‚îú‚îÄ‚îÄ Core/IHttpRequestBuilder.cs
‚îú‚îÄ‚îÄ Logging/IHttpLogger.cs, NullHttpLogger.cs
‚îú‚îÄ‚îÄ Mocks/IMockHttpHandler.cs, NullMockHttpHandler.cs
‚îú‚îÄ‚îÄ Serialization/IHttpSerializer.cs, NewtonsoftJsonSerializer.cs
‚îî‚îÄ‚îÄ Utils/JsonHelper.cs
</code></pre>
<h1>Index</h1>
<h1 id="pr0st0lib-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è">PR0ST0.Lib ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h1>

<p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ PR0ST0.Lib.</p>
<h1>Installation</h1>
<h1 id="—É—Å—Ç–∞–Ω–æ–≤–∫–∞-pr0st0lib">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ PR0ST0.Lib</h1>

<ol>
<li>–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ <code>.nupkg</code></li>
<li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:</li>
</ol>

<pre><code>nuget install PR0ST0.Lib -Source ./nupkgs
</code></pre>
<h1>Integration</h1>
<h1 id="pr0st0integration">PR0ST0.Integration</h1>

<p>–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ PR0ST0.</p>

<h2 id="–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ-–º–æ–¥—É–ª–∏">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–æ–¥—É–ª–∏:</h2>

<ul>
<li>Mediator</li>
<li>Validation</li>
<li>Http</li>
<li>Storage</li>
<li>MVVM</li>
</ul>

<h2 id="–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:</h2>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IntegrationBuilder</span>
<span class="w">    </span><span class="p">.</span><span class="n">Create</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="n">UseMediator</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="n">UseValidation</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="n">UseHttp</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="n">UseStorage</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="n">UseMVVM</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="n">Build</span><span class="p">();</span>

<span class="kt">var</span><span class="w"> </span><span class="n">mediator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">container</span><span class="p">.</span><span class="n">Resolve</span><span class="o">&lt;</span><span class="n">IMediator</span><span class="o">&gt;</span><span class="p">();</span>
<span class="kt">var</span><span class="w"> </span><span class="n">validator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">container</span><span class="p">.</span><span class="n">Resolve</span><span class="o">&lt;</span><span class="n">IValidator</span><span class="o">&lt;</span><span class="n">UserModel</span><span class="o">&gt;&gt;</span><span class="p">();</span>
</code></pre>
</div>
<h1>Mediator</h1>
<h1 id="pr0st0mediator-–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è-–∏-–º–æ—â–Ω–∞—è-mediator-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞-–¥–ª—è-net-framework-48">üìò PR0ST0.Mediator ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –∏ –º–æ—â–Ω–∞—è Mediator-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è .NET Framework 4.8</h1>

<blockquote>
  <p>–ü—Ä–æ—Å—Ç–æ–π –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π <code>Mediator</code> —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π <strong>Command</strong>, <strong>Request/Response</strong>, <strong>Event</strong>, <strong>Pipeline</strong> –∏ <strong>IoC-Resolver'–∞</strong>.</p>
</blockquote>

<hr />

<h2 id="–±—ã—Å—Ç—Ä—ã–∏-—Å—Ç–∞—Ä—Ç">üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>

<h3 id="1-—É—Å—Ç–∞–Ω–æ–≤–∫–∞">1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞</h3>

<p>–î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –ø—Ä–æ–µ–∫—Ç <code>PR0ST0.Mediator</code>. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Äî —Ç–æ–ª—å–∫–æ <code>System.*</code>.</p>

<hr />

<h3 id="2-–∏–Ω—Ç–µ—Ä—Ñ–µ–∏—Å—ã">2. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</h3>

<div class="codehilite">
<pre><span></span><code><span class="c1">// –ö–æ–º–∞–Ω–¥–∞ (–±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)</span>
<span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">ICommand</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// –ó–∞–ø—Ä–æ—Å (—Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)</span>
<span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">IRequest</span><span class="o">&lt;</span><span class="n">TResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (—Å–æ–±—ã—Ç–∏–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)</span>
<span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">INotification</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre>
</div>

<hr />

<h3 id="3-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏">3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏</h3>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">ICommandHandler</span><span class="o">&lt;</span><span class="n">TCommand</span><span class="o">&gt;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ICommand</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Task</span><span class="w"> </span><span class="nf">HandleAsync</span><span class="p">(</span><span class="n">TCommand</span><span class="w"> </span><span class="n">command</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">IRequestHandler</span><span class="o">&lt;</span><span class="n">TRequest</span><span class="p">,</span><span class="w"> </span><span class="n">TResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TRequest</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IRequest</span><span class="o">&lt;</span><span class="n">TResponse</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Task</span><span class="o">&lt;</span><span class="n">TResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">HandleAsync</span><span class="p">(</span><span class="n">TRequest</span><span class="w"> </span><span class="n">request</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="n">INotificationHandler</span><span class="o">&lt;</span><span class="n">TNotification</span><span class="o">&gt;</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TNotification</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">INotification</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Task</span><span class="w"> </span><span class="nf">HandleAsync</span><span class="p">(</span><span class="n">TNotification</span><span class="w"> </span><span class="n">notification</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h2 id="–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">üì¶ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>

<h3 id="1-—Å–æ–∑–¥–∞–µ–º-–∑–∞–ø—Ä–æ—Å">üìå 1. –°–æ–∑–¥–∞—ë–º –∑–∞–ø—Ä–æ—Å</h3>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">PingRequest</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IRequest</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Message</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="2-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫">üìå 2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫</h3>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">PingRequestHandler</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IRequestHandler</span><span class="o">&lt;</span><span class="n">PingRequest</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">Task</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">HandleAsync</span><span class="p">(</span><span class="n">PingRequest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Task</span><span class="p">.</span><span class="n">FromResult</span><span class="p">(</span><span class="s">$&quot;–û—Ç–≤–µ—Ç –Ω–∞: {request.Message}&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h2 id="–Ω–∞—Å—Ç—Ä–æ–∏–∫–∞-—Ä–µ–∑–æ–ª–≤–µ—Ä–∞">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∑–æ–ª–≤–µ—Ä–∞</h2>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">resolver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SimpleResolver</span><span class="p">();</span>

<span class="n">resolver</span><span class="p">.</span><span class="n">Register</span><span class="o">&lt;</span><span class="n">IRequestHandler</span><span class="o">&lt;</span><span class="n">PingRequest</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="o">&gt;&gt;</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PingRequestHandler</span><span class="p">());</span>

<span class="kt">var</span><span class="w"> </span><span class="n">mediator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Mediator</span><span class="p">(</span><span class="n">resolver</span><span class="p">);</span>
</code></pre>
</div>

<hr />

<h2 id="–≤—ã–∑–æ–≤-–∑–∞–ø—Ä–æ—Å–∞">üß† –í—ã–∑–æ–≤ –∑–∞–ø—Ä–æ—Å–∞</h2>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">mediator</span><span class="p">.</span><span class="n">SendAsync</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PingRequest</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Ping&quot;</span><span class="w"> </span><span class="p">});</span>
<span class="c1">// result == &quot;–û—Ç–≤–µ—Ç –Ω–∞: Ping&quot;</span>
</code></pre>
</div>

<hr />

<h2 id="–æ—Ç–ø—Ä–∞–≤–∫–∞-–∫–æ–º–∞–Ω–¥—ã">üì£ –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã</h2>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">SaveCommand</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ICommand</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* –¥–∞–Ω–Ω—ã–µ */</span><span class="w"> </span><span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">SaveHandler</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ICommandHandler</span><span class="o">&lt;</span><span class="n">SaveCommand</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">HandleAsync</span><span class="p">(</span><span class="n">SaveCommand</span><span class="w"> </span><span class="n">cmd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å */</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">Task</span><span class="p">.</span><span class="n">CompletedTask</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:</span>
<span class="n">resolver</span><span class="p">.</span><span class="n">Register</span><span class="o">&lt;</span><span class="n">ICommandHandler</span><span class="o">&lt;</span><span class="n">SaveCommand</span><span class="o">&gt;&gt;</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SaveHandler</span><span class="p">());</span>

<span class="c1">// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</span>
<span class="k">await</span><span class="w"> </span><span class="n">mediator</span><span class="p">.</span><span class="n">SendAsync</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">SaveCommand</span><span class="p">());</span>
</code></pre>
</div>

<hr />

<h2 id="–ø—É–±–ª–∏–∫–∞—Ü–∏—è-—Å–æ–±—ã—Ç–∏—è-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è">üì¢ –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)</h2>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">UserCreatedEvent</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">INotification</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">WelcomeEmailHandler</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">INotificationHandler</span><span class="o">&lt;</span><span class="n">UserCreatedEvent</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">HandleAsync</span><span class="p">(</span><span class="n">UserCreatedEvent</span><span class="w"> </span><span class="n">evt</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SendEmail</span><span class="p">(</span><span class="n">evt</span><span class="p">.</span><span class="n">Name</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">LogHandler</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">INotificationHandler</span><span class="o">&lt;</span><span class="n">UserCreatedEvent</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="nf">HandleAsync</span><span class="p">(</span><span class="n">UserCreatedEvent</span><span class="w"> </span><span class="n">evt</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Log</span><span class="p">(</span><span class="n">evt</span><span class="p">.</span><span class="n">Name</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:</span>
<span class="n">resolver</span><span class="p">.</span><span class="n">RegisterMany</span><span class="o">&lt;</span><span class="n">INotificationHandler</span><span class="o">&lt;</span><span class="n">UserCreatedEvent</span><span class="o">&gt;&gt;</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">WelcomeEmailHandler</span><span class="p">());</span>
<span class="n">resolver</span><span class="p">.</span><span class="n">RegisterMany</span><span class="o">&lt;</span><span class="n">INotificationHandler</span><span class="o">&lt;</span><span class="n">UserCreatedEvent</span><span class="o">&gt;&gt;</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LogHandler</span><span class="p">());</span>

<span class="c1">// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</span>
<span class="k">await</span><span class="w"> </span><span class="n">mediator</span><span class="p">.</span><span class="n">PublishAsync</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">UserCreatedEvent</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Oleg&quot;</span><span class="w"> </span><span class="p">});</span>
</code></pre>
</div>

<hr />

<h2 id="–ø–æ–≤–µ–¥–µ–Ω–∏—è-pipeline">üõ†Ô∏è –ü–æ–≤–µ–¥–µ–Ω–∏—è (Pipeline)</h2>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">LoggingBehavior</span><span class="o">&lt;</span><span class="n">TRequest</span><span class="p">,</span><span class="w"> </span><span class="n">TResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IPipelineBehavior</span><span class="o">&lt;</span><span class="n">TRequest</span><span class="p">,</span><span class="w"> </span><span class="n">TResponse</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">Task</span><span class="o">&lt;</span><span class="n">TResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">HandleAsync</span><span class="p">(</span><span class="n">TRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">RequestHandlerDelegate</span><span class="o">&lt;</span><span class="n">TResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">next</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;–ó–∞–ø—Ä–æ—Å: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">typeof</span><span class="p">(</span><span class="n">TRequest</span><span class="p">).</span><span class="n">Name</span><span class="p">);</span>
<span class="w">        </span><span class="kt">var</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">next</span><span class="p">();</span>
<span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;–û—Ç–≤–µ—Ç: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">typeof</span><span class="p">(</span><span class="n">TResponse</span><span class="p">).</span><span class="n">Name</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">response</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">behaviors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">object</span><span class="p">[]</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">LoggingBehavior</span><span class="o">&lt;</span><span class="n">IRequest</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="o">&gt;</span><span class="p">()</span>
<span class="p">};</span>

<span class="kt">var</span><span class="w"> </span><span class="n">mediator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Mediator</span><span class="p">(</span><span class="n">resolver</span><span class="p">,</span><span class="w"> </span><span class="n">behaviors</span><span class="p">);</span>
</code></pre>
</div>

<hr />

<h2 id="–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞">üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h2>

<pre><code>UI ‚ûú Mediator ‚ûú RequestHandler / CommandHandler / NotificationHandler
                ‚§∑ PipelineBehavior (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
                ‚§∑ DI —á–µ—Ä–µ–∑ IServiceResolver
</code></pre>

<hr />

<h2 id="–ø–æ—á–µ–º—É-—Å—Ç–æ–∏—Ç-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å">‚úÖ –ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h2>

<ul>
<li>‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è .NET Framework</li>
<li>‚úÖ –ë–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li>‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —á–µ—Ä–µ–∑ <code>IPipelineBehavior</code></li>
<li>‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ—Å—Ç–æ–π <code>DI</code>-—Ä–µ–∑–æ–ª–≤–µ—Ä (<code>SimpleResolver</code>)</li>
</ul>

<hr />

<h2 id="–ø—Ä–∏–º–µ—Ä-–ø—Ä–æ–µ–∫—Ç–∞">üìÅ –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞</h2>

<ul>
<li><code>DemoRequest.cs</code>, <code>DemoCommand.cs</code>, <code>DemoNotification.cs</code> ‚Äî —Å—É—â–Ω–æ—Å—Ç–∏</li>
<li><code>DemoRequestHandler</code>, <code>DemoCommandHandler</code>, <code>DemoNotificationHandler</code> ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏</li>
<li><code>MainWindow.xaml.cs</code> ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å <code>Mediator</code></li>
<li><code>Bootstrapper.cs</code> ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</li>
</ul>
<h1>Mvvm</h1>
<h1 id="pr0st0mvvm-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-–∏-faq">PR0ST0.MVVM ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ FAQ</h1>

<p>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ <strong>PR0ST0.MVVM</strong> –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ <strong>MVVM</strong> –≤ WPF —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:</p>

<ul>
<li>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</li>
<li>INavigationResult (–≤–æ–∑–≤—Ä–∞—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–∏–∞–ª–æ–≥–æ–≤/—Å—Ç—Ä–∞–Ω–∏—Ü)</li>
<li>Deep linking –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (<code>Route</code>)</li>
<li>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö <code>Frame</code></li>
<li>–ê–Ω–∏–º–∞—Ü–∏–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ View/VM</li>
</ul>

<hr />

<h2 id="–æ—Å–Ω–æ–≤—ã">üîß –û—Å–Ω–æ–≤—ã</h2>

<h3 id="1-–±–∞–∑–æ–≤—ã–∏-viewmodel">1. –ë–∞–∑–æ–≤—ã–π ViewModel</h3>

<div class="codehilite">
<pre><span></span><code><span class="na">[Route(&quot;home&quot;)]</span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">HomeViewModel</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ViewModelBase</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">WelcomeText</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="2-–ø—Ä–∏–≤—è–∑–∞–Ω–Ω–∞—è-view-homepagexaml">2. –ü—Ä–∏–≤—è–∑–∞–Ω–Ω–∞—è View (HomePage.xaml)</h3>

<div class="codehilite">
<pre><span></span><code><span class="nt">&lt;Page</span><span class="w"> </span><span class="na">x:Class=</span><span class="s">&quot;MyApp.Views.HomePage&quot;</span>
<span class="w">      </span><span class="na">xmlns=</span><span class="s">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;TextBlock</span><span class="w"> </span><span class="na">Text=</span><span class="s">&quot;{Binding WelcomeText}&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/Page&gt;</span>
</code></pre>
</div>

<p>–ò–ª–∏ —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º:</p>

<div class="codehilite">
<pre><span></span><code><span class="na">[ViewFor(typeof(HomeViewModel))]</span>
<span class="k">public</span><span class="w"> </span><span class="k">partial</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Page</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre>
</div>

<hr />

<h3 id="3-–Ω–∞–≤–∏–≥–∞—Ü–∏—è">3. –ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>

<div class="codehilite">
<pre><span></span><code><span class="n">Navigator</span><span class="p">.</span><span class="n">NavigateTo</span><span class="o">&lt;</span><span class="n">HomeViewModel</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">);</span>
<span class="k">await</span><span class="w"> </span><span class="n">Navigator</span><span class="p">.</span><span class="n">NavigateToAsync</span><span class="o">&lt;</span><span class="n">SettingsViewModel</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">);</span>
</code></pre>
</div>

<hr />

<h3 id="4-–≤–æ–∑–≤—Ä–∞—Ç-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞">4. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</h3>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">Navigator</span><span class="p">.</span><span class="n">NavigateForResult</span><span class="o">&lt;</span><span class="n">ModalViewModel</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">);</span>
<span class="n">MessageBox</span><span class="p">.</span><span class="n">Show</span><span class="p">(</span><span class="s">&quot;–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤—ë–ª: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">Result</span><span class="p">);</span>
</code></pre>
</div>

<p>–í–Ω—É—Ç—Ä–∏ <code>ModalViewModel</code>:</p>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">ModalViewModel</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ViewModelBase</span><span class="p">,</span><span class="w"> </span><span class="n">INavigationResultHost</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Input</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">private</span><span class="w"> </span><span class="n">Action</span><span class="o">&lt;</span><span class="kt">object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_callback</span><span class="p">;</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">ICommand</span><span class="w"> </span><span class="n">CloseCommand</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RelayCommand</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_callback</span><span class="o">?.</span><span class="n">Invoke</span><span class="p">(</span><span class="n">Input</span><span class="p">));</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">SetResultCallback</span><span class="p">(</span><span class="n">Action</span><span class="o">&lt;</span><span class="kt">object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">callback</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">callback</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h3 id="5-deep-linking-–∏-query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã">5. Deep Linking –∏ Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>

<div class="codehilite">
<pre><span></span><code><span class="na">[Route(&quot;profile/details&quot;)]</span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">DetailsViewModel</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ViewModelBase</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Id</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="codehilite">
<pre><span></span><code><span class="n">Navigator</span><span class="p">.</span><span class="n">NavigateToRoute</span><span class="p">(</span><span class="s">&quot;profile/details?id=5&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Main&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
</code></pre>
</div>

<hr />

<h3 id="6-–∞–Ω–∏–º–∞—Ü–∏–∏-–ø–µ—Ä–µ—Ö–æ–¥–æ–≤">6. –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</h3>

<div class="codehilite">
<pre><span></span><code><span class="n">Navigator</span><span class="p">.</span><span class="n">NavigateTo</span><span class="o">&lt;</span><span class="n">HomeViewModel</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="n">TransitionType</span><span class="p">.</span><span class="n">Slide</span><span class="p">);</span>
</code></pre>
</div>

<hr />

<h2 id="—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è">üîÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>

<div class="codehilite">
<pre><span></span><code><span class="n">container</span><span class="p">.</span><span class="n">Register</span><span class="o">&lt;</span><span class="n">HomeViewModel</span><span class="p">,</span><span class="w"> </span><span class="n">HomeViewModel</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">navigator</span><span class="p">.</span><span class="n">Register</span><span class="o">&lt;</span><span class="n">HomeViewModel</span><span class="p">,</span><span class="w"> </span><span class="n">HomePage</span><span class="o">&gt;</span><span class="p">();</span>

<span class="c1">// –ò–ª–∏ –∞–≤—Ç–æ:</span>
<span class="n">navigator</span><span class="p">.</span><span class="n">AutoRegisterViewsWithAttributes</span><span class="p">(</span><span class="n">assembly</span><span class="p">);</span>
<span class="n">navigator</span><span class="p">.</span><span class="n">RegisterRoutesFromViewModels</span><span class="p">(</span><span class="n">assembly</span><span class="p">);</span>
</code></pre>
</div>

<hr />

<h2 id="faq">‚ùì FAQ</h2>

<h3 id="–∫–∞–∫-–≤–µ—Ä–Ω—É—Ç—å-–∑–Ω–∞—á–µ–Ω–∏–µ-–∏–∑-—Å—Ç—Ä–∞–Ω–∏—Ü—ã">–ö–∞–∫ –≤–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—ã?</h3>

<p>‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>INavigationResultHost</code> –∏ <code>NavigateForResult&lt;T&gt;()</code>.</p>

<h3 id="–∫–∞–∫-—Å–≤—è–∑–∞—Ç—å-view-–∏-viewmodel">–ö–∞–∫ —Å–≤—è–∑–∞—Ç—å View –∏ ViewModel?</h3>

<p>‚Üí –ß–µ—Ä–µ–∑ <code>navigator.Register&lt;VM, View&gt;()</code> –∏–ª–∏ <code>[ViewFor(typeof(VM))]</code>.</p>

<h3 id="–∫–∞–∫-–ø–µ—Ä–µ–¥–∞—Ç—å-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã">–ö–∞–∫ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?</h3>

<p>‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ query-—Å—Ç—Ä–æ–∫—É: <code>"route?param=value"</code> –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –≤ <code>NavigateTo()</code>.</p>

<h3 id="–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–Ω–µ—Å–∫–æ–ª—å–∫–æ-frame">–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Frame?</h3>

<p>‚Üí –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∏—Ö –ø–æ –∫–ª—é—á—É:</p>

<div class="codehilite">
<pre><span></span><code><span class="n">navigator</span><span class="p">.</span><span class="n">RegisterFrame</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">mainFrame</span><span class="p">);</span>
<span class="n">navigator</span><span class="p">.</span><span class="n">NavigateTo</span><span class="o">&lt;</span><span class="n">HomeViewModel</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="–∫–∞–∫-—Å–±—Ä–æ—Å–∏—Ç—å-—Å—Ç—Ä–∞–Ω–∏—Ü—É-viewmodel">–ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (ViewModel)?</h3>

<div class="codehilite">
<pre><span></span><code><span class="n">navigator</span><span class="p">.</span><span class="n">Reset</span><span class="o">&lt;</span><span class="n">HomeViewModel</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="–∫–∞–∫-–æ—á–∏—Å—Ç–∏—Ç—å-–∫—ç—à-—Å—Ç—Ä–∞–Ω–∏—Ü">–ö–∞–∫ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à —Å—Ç—Ä–∞–Ω–∏—Ü?</h3>

<div class="codehilite">
<pre><span></span><code><span class="n">navigator</span><span class="p">.</span><span class="n">ClearCache</span><span class="p">();</span>
</code></pre>
</div>

<h3 id="–∫–∞–∫-–ø–æ–ª—É—á–∏—Ç—å-—Å—Å—ã–ª–∫—É-–¥–ª—è-deep-linking">–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è deep linking?</h3>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">navigator</span><span class="p">.</span><span class="n">GetNavigationLink</span><span class="o">&lt;</span><span class="n">ProfileViewModel</span><span class="o">&gt;</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">});</span>
<span class="c1">// –†–µ–∑—É–ª—å—Ç–∞—Ç: &quot;profile?id=10&quot;</span>
</code></pre>
</div>

<hr />
<h1>Storage</h1>
<h1 id="pr0st0storage-–ø—Ä–æ—Å—Ç–æ–µ-–∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ-–æ–±—ä–µ–∫—Ç–æ–≤">üì¶ PR0ST0.Storage ‚Äî –ü—Ä–æ—Å—Ç–æ–µ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—ä–µ–∫—Ç–æ–≤</h1>

<p><code>PR0ST0.Storage</code> ‚Äî —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª—é–±—ã—Ö .NET-–æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –Ω–∞ –¥–∏—Å–∫–µ.</p>

<hr />

<h2 id="–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏">üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>

<ul>
<li>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π.</li>
<li>–†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ (<code>T</code>).</li>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–ª—é—á–∞.</li>
<li>–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π.</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç [Newtonsoft.Json] –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.</li>
</ul>

<hr />

<h2 id="–±—ã—Å—Ç—Ä—ã–∏-—Å—Ç–∞—Ä—Ç">üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>

<h3 id="1-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è">1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</h3>

<div class="codehilite">
<pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="nn">PR0ST0.Storage</span><span class="p">;</span>

<span class="kt">var</span><span class="w"> </span><span class="n">storage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FileStorage</span><span class="p">(</span><span class="s">&quot;data&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// –ø–∞–ø–∫–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</span>
</code></pre>
</div>

<h3 id="2-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ-–æ–±—ä–µ–∫—Ç–∞">2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</h3>

<div class="codehilite">
<pre><span></span><code><span class="k">await</span><span class="w"> </span><span class="n">storage</span><span class="p">.</span><span class="n">SaveAsync</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserProfile</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">Age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
<span class="p">});</span>
</code></pre>
</div>

<h3 id="3-–∑–∞–≥—Ä—É–∑–∫–∞-–æ–±—ä–µ–∫—Ç–∞">3. –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–∞</h3>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">storage</span><span class="p">.</span><span class="n">LoadAsync</span><span class="o">&lt;</span><span class="n">UserProfile</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
<span class="w">    </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Welcome back, {user.Username}!&quot;</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="4-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è">4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è</h3>

<div class="codehilite">
<pre><span></span><code><span class="kt">bool</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">storage</span><span class="p">.</span><span class="n">ExistsAsync</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="5-—É–¥–∞–ª–µ–Ω–∏–µ-–æ–±—ä–µ–∫—Ç–∞">5. –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</h3>

<div class="codehilite">
<pre><span></span><code><span class="k">await</span><span class="w"> </span><span class="n">storage</span><span class="p">.</span><span class="n">DeleteAsync</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">);</span>
</code></pre>
</div>

<hr />

<h2 id="–ø—Ä–∏–º–µ—Ä-–º–æ–¥–µ–ª–∏">üß™ –ü—Ä–∏–º–µ—Ä –º–æ–¥–µ–ª–∏</h2>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">UserProfile</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Username</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Age</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h2 id="–Ω–∞—Å—Ç—Ä–æ–∏–∫–∏-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏">üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏</h2>

<div class="codehilite">
<pre><span></span><code><span class="c1">// –í–Ω—É—Ç—Ä–∏ FileStorage –Ω–∞—Å—Ç—Ä–æ–µ–Ω JsonSerializerSettings:</span>
<span class="k">new</span><span class="w"> </span><span class="n">JsonSerializerSettings</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">TypeNameHandling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TypeNameHandling</span><span class="p">.</span><span class="n">Auto</span><span class="p">,</span>
<span class="w">    </span><span class="n">Formatting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Formatting</span><span class="p">.</span><span class="n">Indented</span>
<span class="p">};</span>
</code></pre>
</div>

<p>–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞–∂–µ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ —Ç–∏–ø—ã.</p>

<hr />

<h2 id="–≥–¥–µ-—Ö—Ä–∞–Ω—è—Ç—Å—è-–¥–∞–Ω–Ω—ã–µ">üóÇ –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ?</h2>

<p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –ø–∞–ø–∫—É:</p>

<pre><code>data/user.json
data/settings.json
</code></pre>

<hr />

<h2 id="–∫–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å">‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</h2>

<ul>
<li>–î–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω-—Ö—Ä–∞–Ω–∏–ª–∏—â.</li>
<li>–î–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏.</li>
<li>–î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π, –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∏—Å—Ç–æ—Ä–∏–∏.</li>
</ul>

<hr />

<h2 id="–∫–æ–≥–¥–∞-–Ω–µ-—Å—Ç–æ–∏—Ç-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å">‚ùå –ö–æ–≥–¥–∞ –Ω–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</h2>

<ul>
<li>–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è, —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.</li>
<li>–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.</li>
<li>–í –º–Ω–æ–≥–æ-–ø–æ—Ç–æ—á–Ω–æ–º –∏–ª–∏ –º–Ω–æ–≥–æ-–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö).</li>
</ul>

<hr />

<h2 id="—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ö—Ä–∞–Ω–µ–Ω–∏—è">üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è</h2>

<p>–ö–∞–∂–¥–æ–º—É –∫–ª—é—á—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–π–ª:</p>

<pre><code>SaveAsync("config") ‚Üí "config.json"
</code></pre>

<hr />

<h2 id="faq">üí¨ FAQ</h2>

<h3 id="–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç-–ª–∏-–±–∏–Ω–∞—Ä–Ω—ã–∏-—Ñ–æ—Ä–º–∞—Ç">‚ùì –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç?</h3>

<p>–ù–µ—Ç, —Ç–æ–ª—å–∫–æ JSON —Å <code>Newtonsoft.Json</code>.</p>

<h3 id="—Ä–∞–±–æ—Ç–∞–µ—Ç-–ª–∏-–Ω–∞-android-–∏-linux">‚ùì –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –Ω–∞ Android –∏ Linux?</h3>

<p>–î–∞, –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <code>System.IO</code> –∏ <code>Newtonsoft.Json</code>.</p>

<h3 id="–º–æ–∂–Ω–æ-–ª–∏-—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å-—Å–ª–æ–∂–Ω—ã–∏-–æ–±—ä–µ–∫—Ç-—Å-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º">‚ùì –ú–æ–∂–Ω–æ –ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º?</h3>

<p>–î–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <code>TypeNameHandling = Auto</code>.</p>
<h1>Validation</h1>
<h1 id="pr0st0validation">PR0ST0.Validation</h1>

<p>–õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π –≤ .NET, —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å WPF, WinForms –∏ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –Ω–∞ .NET Framework 4.8+.</p>

<hr />

<h2 id="–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏">üì¶ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>

<ul>
<li>–ü—Ä–æ—Å—Ç–æ–µ API –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª –≤–∞–ª–∏–¥–∞—Ü–∏–∏.</li>
<li>–†–∞—Å—à–∏—Ä—è–µ–º—ã–µ fluent-–º–µ—Ç–æ–¥—ã (<code>NotEmpty()</code>, <code>MinLength()</code>, <code>GreaterThan()</code> –∏ –¥—Ä.).</li>
<li>–û—Ç—á—ë—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –ø–æ –ø–æ–ª—è–º.</li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ –∏ –ø—Ä–∞–≤–∏–ª.</li>
</ul>

<hr />

<h2 id="–±—ã—Å—Ç—Ä—ã–∏-—Å—Ç–∞—Ä—Ç">üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>

<h3 id="1-—Å–æ–∑–¥–∞–∏-–º–æ–¥–µ–ª—å">1. –°–æ–∑–¥–∞–π –º–æ–¥–µ–ª—å</h3>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">UserModel</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Age</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h3 id="2-—Å–æ–∑–¥–∞–∏-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä">2. –°–æ–∑–¥–∞–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä</h3>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">UserModelValidator</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Validator</span><span class="o">&lt;</span><span class="n">UserModel</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="nf">UserModelValidator</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">RuleFor</span><span class="p">(</span><span class="s">&quot;Name&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="n">NotEmpty</span><span class="p">()</span>
<span class="w">            </span><span class="p">.</span><span class="n">MinLength</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="w">        </span><span class="n">RuleFor</span><span class="p">(</span><span class="s">&quot;Age&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">Age</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="n">GreaterThan</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="n">LessThanOrEqualTo</span><span class="p">(</span><span class="mi">99</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h3 id="3-–ø—Ä–æ–≤–µ–¥–∏-–≤–∞–ª–∏–¥–∞—Ü–∏—é">3. –ü—Ä–æ–≤–µ–¥–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é</h3>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserModel</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">};</span>

<span class="kt">var</span><span class="w"> </span><span class="n">validator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserModelValidator</span><span class="p">();</span>
<span class="kt">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validator</span><span class="p">.</span><span class="n">Validate</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">result</span><span class="p">.</span><span class="n">IsValid</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">foreach</span><span class="w"> </span><span class="p">(</span><span class="kt">var</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">Errors</span><span class="p">)</span>
<span class="w">        </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;{error.Property}: {error.Message}&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h2 id="–¥–æ—Å—Ç—É–ø–Ω—ã–µ-–ø—Ä–∞–≤–∏–ª–∞">üìö –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞</h2>

<div class="codehilite">
<pre><span></span><code><span class="c1">// string</span>
<span class="p">.</span><span class="n">NotEmpty</span><span class="p">()</span>
<span class="p">.</span><span class="n">MinLength</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="c1">// int</span>
<span class="p">.</span><span class="n">GreaterThan</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">.</span><span class="n">LessThanOrEqualTo</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</code></pre>
</div>

<p>–¢—ã –º–æ–∂–µ—à—å –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞:</p>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">RuleBuilder</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">StartsWithA</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="n">RuleBuilder</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">builder</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">AddRule</span><span class="p">((</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">val</span><span class="p">.</span><span class="n">StartsWith</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">))</span>
<span class="w">            </span><span class="n">ctx</span><span class="p">.</span><span class="n">AddError</span><span class="p">(</span><span class="n">builder</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;must start with A&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h2 id="faq">üí° FAQ</h2>

<h3 id="–º–æ–≥—É-–ª–∏-—è-–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å-nullable-–ø–æ–ª—è">‚ùì –ú–æ–≥—É –ª–∏ —è –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å nullable –ø–æ–ª—è?</h3>

<p>–î–∞. –ò—Å–ø–æ–ª—å–∑—É–π <code>int?</code> –∏–ª–∏ <code>string?</code> –∏ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–π –ø—Ä–∞–≤–∏–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:</p>

<div class="codehilite">
<pre><span></span><code><span class="n">RuleFor</span><span class="p">(</span><span class="s">&quot;Age&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">Age</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="mi">0</span><span class="p">).</span><span class="n">GreaterThan</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</code></pre>
</div>

<hr />

<h3 id="—á—Ç–æ-–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç-validate">‚ùì –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>Validate()</code>?</h3>

<p>–û–±—ä–µ–∫—Ç <code>ValidationResult</code>:</p>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">ValidationResult</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">IsValid</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ValidationFailure</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Errors</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h3 id="–∫–∞–∫-–¥–æ–±–∞–≤–∏—Ç—å-–ø—Ä–∞–≤–∏–ª–∞-–≤-—Ä–∞–Ω—Ç–∞–∏–º–µ">‚ùì –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ?</h3>

<p>–¢—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>.AddRule(...)</code> –Ω–∞–ø—Ä—è–º—É—é:</p>

<div class="codehilite">
<pre><span></span><code><span class="n">RuleFor</span><span class="p">(</span><span class="s">&quot;Custom&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">Something</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">AddRule</span><span class="p">((</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;expected&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">ctx</span><span class="p">.</span><span class="n">AddError</span><span class="p">(</span><span class="s">&quot;Custom&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;is not expected&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
</code></pre>
</div>

<hr />

<h2 id="—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏">üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏</h2>

<ul>
<li><code>Validator&lt;T&gt;</code> ‚Äî –±–∞–∑–æ–≤—ã–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä.</li>
<li><code>RuleBuilder&lt;T, TProp&gt;</code> ‚Äî fluent-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –ø—Ä–∞–≤–∏–ª.</li>
<li><code>ValidationContext</code> ‚Äî –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∑–∞–ø–∏—Å–∏ –æ—à–∏–±–æ–∫.</li>
<li><code>ValidationResult</code>, <code>ValidationFailure</code> ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏.</li>
<li><code>ValidationExtensions</code> ‚Äî fluent API —Å –≥–æ—Ç–æ–≤—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏.</li>
</ul>

<hr />

<h2 id="–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–≤-wpf">üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ WPF</h2>

<pre><code>&lt;TextBox Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" /&gt;
&lt;TextBlock Text="{Binding NameError}" Foreground="Red" /&gt;
</code></pre>

<div class="codehilite">
<pre><span></span><code><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">NameError</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Validate</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_validator</span><span class="p">.</span><span class="n">Validate</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="n">NameError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">Errors</span><span class="p">.</span><span class="n">FirstOrDefault</span><span class="p">(</span><span class="n">e</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">Property</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;Name&quot;</span><span class="p">)</span><span class="o">?.</span><span class="n">Message</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />
<h1>Faq</h1>
<h1 id="—á–∞—Å—Ç–æ-–∑–∞–¥–∞–≤–∞–µ–º—ã–µ-–≤–æ–ø—Ä–æ—Å—ã-faq">‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)</h1>

<h2 id="–∫–∞–∫-–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å-frame-–¥–ª—è-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏">–ö–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å Frame –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏?</h2>

<div class="codehilite">
<pre><span></span><code><span class="n">Navigation</span><span class="p">.</span><span class="n">RegisterFrame</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">myFrame</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-navigateforresult">–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NavigateForResult?</h2>

<div class="codehilite">
<pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="n">Navigation</span><span class="p">.</span><span class="n">NavigateForResult</span><span class="o">&lt;</span><span class="n">ModalViewModel</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="–∫–∞–∫-—Å–¥–µ–ª–∞—Ç—å-–ø–æ–≤—Ç–æ—Ä–Ω—ã–∏-http-–∑–∞–ø—Ä–æ—Å">–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π HTTP-–∑–∞–ø—Ä–æ—Å?</h2>

<div class="codehilite">
<pre><span></span><code><span class="n">builder</span><span class="p">.</span><span class="n">WithRetry</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">WithTimeout</span><span class="p">(</span><span class="mi">5000</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="–≥–¥–µ-—Ö—Ä–∞–Ω–∏—Ç—Å—è-—Å–æ—Å—Ç–æ—è–Ω–∏–µ">–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ?</h2>

<p>–í —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ <code>IStorage</code> ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é <code>InMemoryStorage</code>, –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å.</p>
<h1>Readme</h1>
<h1 id="pr0st0lib">PR0ST0.Lib üì¶</h1>

<p>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è .NET-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è MVVM, Mediator, Validation, Http, Storage –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤ –µ–¥–∏–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫.</p>

<h2 id="–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>

<ul>
<li>üîÑ MVVM: –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∞–Ω–∏–º–∞—Ü–∏–∏</li>
<li>üì¨ Mediator: –∫–æ–º–∞–Ω–¥—ã, –∑–∞–ø—Ä–æ—Å—ã, —Å–æ–±—ã—Ç–∏—è</li>
<li>‚úÖ Validation: –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—à–∏–±–∫–∏</li>
<li>üåê Http: builder-Dsl, Retry, Timeout, Mock, Logging</li>
<li>üíæ Storage: in-memory, file, local/app settings</li>
<li>üîó Integration: –ø–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
</ul>

<h2 id="—É—Å—Ç–∞–Ω–æ–≤–∫–∞">–£—Å—Ç–∞–Ω–æ–≤–∫–∞</h2>

<pre><code>nuget install PR0ST0.Lib -Source ./nupkgs
</code></pre>

<h2 id="–±—ã—Å—Ç—Ä—ã–∏-—Å—Ç–∞—Ä—Ç">–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>

<div class="codehilite">
<pre><span></span><code><span class="n">AppBootstrapper</span><span class="p">.</span><span class="n">Run</span><span class="p">();</span>
<span class="k">await</span><span class="w"> </span><span class="n">Navigation</span><span class="p">.</span><span class="n">NavigateToAsync</span><span class="o">&lt;</span><span class="n">HomeViewModel</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h2>

<p>–°–º. <code>docs/*.md</code> –∏–ª–∏ <a href="docs.html">docs.html</a></p>

</body>
</html>
